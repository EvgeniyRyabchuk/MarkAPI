"use strict";(self.webpackChunkauthprob=self.webpackChunkauthprob||[]).push([[186],{6186:(I,u,a)=>{a.r(u),a.d(u,{RegisterModule:()=>A});var p=a(8583),o=a(3679);function d(r,s){return n=>{const i=n.controls[s];i.errors&&!i.errors.mustMatch||i.setErrors(n.controls[r].value!==i.value?{mustMatch:!0}:null)}}var e=a(7716),h=a(9504),f=a(4655),l=a(8295),g=a(9983),c=a(1095);function Z(r,s){1&r&&(e.TgZ(0,"mat-error"),e._uU(1,"Enter first name"),e.qZA())}function C(r,s){1&r&&(e.TgZ(0,"mat-error"),e._uU(1,"Enter last name"),e.qZA())}function b(r,s){1&r&&(e.TgZ(0,"mat-error"),e._uU(1,"Enter correct email"),e.qZA())}function _(r,s){1&r&&(e.TgZ(0,"mat-error"),e._uU(1,"Password must be at least 9 symbol"),e.qZA())}function w(r,s){1&r&&(e.TgZ(0,"mat-error"),e._uU(1,"Password have to match"),e.qZA())}let T=(()=>{class r{constructor(n,t,i){this.fb=n,this.httpService=t,this.router=i,this.first_name=new o.NI("qwe",o.kI.required),this.last_name=new o.NI("qwe",o.kI.required),this.email=new o.NI("a@gmail.com",[o.kI.required,o.kI.email]),this.password=new o.NI("",[o.kI.required,o.kI.minLength(9)]),this.password_confirmation=new o.NI("",[o.kI.required])}ngOnInit(){this.form=this.fb.group({first_name:this.first_name,last_name:this.last_name,email:this.email,password:this.password,password_confirmation:this.password_confirmation,remeberMe:!1},{validator:d("password","password_confirmation")})}getErrorMessage(){if(this.email.hasError("required"))return"You must enter a value";if(this.password.hasError("minLength"))return"Password must be at least 9 symbol";let n=this.password_confirmation.errors;return n&&!0===n.mustMatch?"Enter same password!":this.email.hasError("email")?"Not a valid email":""}submit(){const n=this.form.getRawValue();n.remeberMe&&console.log("remember"),this.httpService.registerUser(n).subscribe(t=>{this.httpService.getToken({username:n.email,password:n.password,grant_type:"password",client_id:2,client_secret:"ZwSqB3EZwS5C1kKF5wjiL0K4mhIGoaHry1O6xXbp",scope:"*"}).subscribe(m=>{console.log("success"),console.log(m),localStorage.setItem("token",m.access_token),localStorage.setItem("refresh_token",m.refresh_token),this.httpService.subjectLg.next(!0),this.router.navigate(["/dashboard"])},m=>{console.log("error"),console.log(m)})},t=>console.log(t))}}return r.\u0275fac=function(n){return new(n||r)(e.Y36(o.qu),e.Y36(h.O),e.Y36(f.F0))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-register"]],decls:41,vars:12,consts:[[1,"register-container"],[3,"formGroup","submit"],["align","center"],[1,"mb-3"],["appearance","fill",1,"form-group"],["type","text","formControlName","first_name","matInput","","placeholder","Josh","required","",3,"formControl"],[4,"ngIf"],["type","text","formControlName","last_name","matInput","","placeholder","Brolin","required","",3,"formControl"],["type","email","formControlName","email","matInput","","placeholder","joshbrolin@movi.com","required","",3,"formControl"],["type","password","formControlName","password","matInput","","placeholder","*********","required","",3,"formControl"],["type","password","formControlName","password_confirmation","matInput","","placeholder","*********","required","",3,"formControl"],[1,"mb-3","form-check"],["type","checkbox","id","exampleCheck1",1,"form-check-input"],["for","exampleCheck1",1,"form-check-label"],[1,"form-group"],["mat-raised-button","","color","primary","mat-raised-button","","id","submit-btn","type","submit",1,"btn","btn-primary",3,"disabled"]],template:function(n,t){1&n&&(e.TgZ(0,"div",0),e.TgZ(1,"form",1),e.NdJ("submit",function(){return t.submit()}),e.TgZ(2,"h1",2),e._uU(3,"Plaese register"),e.qZA(),e.TgZ(4,"div",3),e.TgZ(5,"mat-form-field",4),e.TgZ(6,"mat-label"),e._uU(7,"First name"),e.qZA(),e._UZ(8,"input",5),e.YNc(9,Z,2,0,"mat-error",6),e.qZA(),e.qZA(),e.TgZ(10,"div",3),e.TgZ(11,"mat-form-field",4),e.TgZ(12,"mat-label"),e._uU(13,"Last name"),e.qZA(),e._UZ(14,"input",7),e.YNc(15,C,2,0,"mat-error",6),e.qZA(),e.qZA(),e.TgZ(16,"div",3),e.TgZ(17,"mat-form-field",4),e.TgZ(18,"mat-label"),e._uU(19,"Email"),e.qZA(),e._UZ(20,"input",8),e.YNc(21,b,2,0,"mat-error",6),e.qZA(),e.qZA(),e.TgZ(22,"div",3),e.TgZ(23,"mat-form-field",4),e.TgZ(24,"mat-label"),e._uU(25,"Password"),e.qZA(),e._UZ(26,"input",9),e.YNc(27,_,2,0,"mat-error",6),e.qZA(),e.qZA(),e.TgZ(28,"div",3),e.TgZ(29,"mat-form-field",4),e.TgZ(30,"mat-label"),e._uU(31,"Confirm password"),e.qZA(),e._UZ(32,"input",10),e.YNc(33,w,2,0,"mat-error",6),e.qZA(),e.qZA(),e.TgZ(34,"div",11),e._UZ(35,"input",12),e.TgZ(36,"label",13),e._uU(37,"Check me out"),e.qZA(),e.qZA(),e.TgZ(38,"div",14),e.TgZ(39,"button",15),e._uU(40,"Register"),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&n&&(e.xp6(1),e.Q6J("formGroup",t.form),e.xp6(7),e.Q6J("formControl",t.first_name),e.xp6(1),e.Q6J("ngIf",null==t.first_name.errors?null:t.first_name.errors.required),e.xp6(5),e.Q6J("formControl",t.last_name),e.xp6(1),e.Q6J("ngIf",null==t.last_name.errors?null:t.last_name.errors.required),e.xp6(5),e.Q6J("formControl",t.email),e.xp6(1),e.Q6J("ngIf",t.email.invalid),e.xp6(5),e.Q6J("formControl",t.password),e.xp6(1),e.Q6J("ngIf",null==t.password.errors?null:t.password.errors.minlength),e.xp6(5),e.Q6J("formControl",t.password_confirmation),e.xp6(1),e.Q6J("ngIf",null==t.password_confirmation.errors?null:t.password_confirmation.errors.mustMatch),e.xp6(6),e.Q6J("disabled",!t.form.valid))},directives:[o._Y,o.JL,o.sg,l.KE,l.hX,o.Fj,g.Nt,o.JJ,o.u,o.Q7,o.oH,p.O5,c.lW,l.TO],styles:[".example-container[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%] + .mat-form-field[_ngcontent-%COMP%]{margin-left:8px}.example-right-align[_ngcontent-%COMP%]{text-align:right}input.example-right-align[_ngcontent-%COMP%]::-webkit-outer-spin-button, input.example-right-align[_ngcontent-%COMP%]::-webkit-inner-spin-button{display:none}input.example-right-align[_ngcontent-%COMP%]{-moz-appearance:textfield}.register-container[_ngcontent-%COMP%]{display:flex;align-items:center;height:100%}.register-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{width:100%;margin:0 auto}.form-group[_ngcontent-%COMP%]{display:block;max-width:600px;margin:0 auto}#submit-btn[_ngcontent-%COMP%]{margin:10px 0;width:100%}"]}),r})();var q=a(6627);const v=[{path:"",component:T}];let A=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[[p.ez,o.UX,f.Bz.forChild(v),c.ot,l.lN,q.Ps,g.c]]}),r})()}}]);