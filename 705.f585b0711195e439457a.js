"use strict";(self.webpackChunkstorage=self.webpackChunkstorage||[]).push([[705],{705:(Q,p,r)=>{r.r(p),r.d(p,{StorageModule:()=>R});var s=r(8583),C=r(2305),i=r(3679),u=r(8756),t=r(7716),Z=r(8609),x=r(1841);let f=(()=>{class e{constructor(o){this.http=o,this.domain="https://41ce-192-162-140-52.ngrok.io"}getStorageItems(){return this.http.get(`${this.domain}/storage`)}addStorageItem(o){return this.http.post(`${this.domain}/storage`,o)}editStorageItem(o,a){return this.http.patch(`${this.domain}/storage/`+o,a)}removeStorageItem(o){return this.http.delete(`${this.domain}/storage/`+o)}}return e.\u0275fac=function(o){return new(o||e)(t.LFG(x.eN))},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var h=r(8295),_=r(9983),m=r(1095);function v(e,n){if(1&e){const o=t.EpF();t.TgZ(0,"button",6),t.NdJ("click",function(){return t.CHM(o),t.oxw().storageModalAction("add")}),t._uU(1," ADD STORAGE ITEM "),t.qZA()}if(2&e){const o=t.oxw();t.Q6J("disabled",o.addStorageForm.invalid)}}function M(e,n){if(1&e){const o=t.EpF();t.TgZ(0,"button",6),t.NdJ("click",function(){return t.CHM(o),t.oxw().storageModalAction("edit")}),t._uU(1," EDIT STORAGE ITEM "),t.qZA()}if(2&e){const o=t.oxw();t.Q6J("disabled",o.addStorageForm.invalid)}}let T=(()=>{class e{constructor(o,a,c,l,g){this.fb=o,this.dialogRef=a,this.data=c,this.notifierService=l,this.dashboardService=g,this.addStorageForm=this.fb.group({name:["",i.kI.required],count:["",i.kI.required],provider:["",i.kI.required]}),this.storageItemId=0}ngOnInit(){"edit"===this.data.method&&(this.storageItemId=this.data.initialValue.id,this.addStorageForm.controls.name.setValue(this.data.initialValue.name),this.addStorageForm.controls.count.setValue(this.data.initialValue.count),this.addStorageForm.controls.provider.setValue(this.data.initialValue.provider))}storageModalAction(o){"add"===o?this.dashboardService.addStorageItem(this.addStorageForm.value).subscribe(a=>{this.notifierService.notify("success","\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u043e \u0443\u0441\u043f\u0435\u0448\u043d\u043e!"),this.dialogRef.close()},a=>{}):this.dashboardService.editStorageItem(this.storageItemId,this.addStorageForm.value).subscribe(a=>{this.notifierService.notify("success","\u0423\u0441\u043f\u0435\u0448\u043d\u043e \u043e\u0442\u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u043e!"),this.dialogRef.close()},a=>{})}}return e.\u0275fac=function(o){return new(o||e)(t.Y36(i.qu),t.Y36(u.so),t.Y36(u.WI),t.Y36(Z.lG),t.Y36(f))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-add-modal"]],decls:10,vars:3,consts:[[1,"modal-wrapper"],["action","",2,"display","inline-flex","flex-direction","column",3,"formGroup"],["formControlName","name","required","","type","text","matInput","","placeholder","Name: "],["formControlName","count","required","","type","number","matInput","","placeholder","Count: "],["formControlName","provider","required","","type","text","matInput","","placeholder","Provider: "],["mat-raised-button","",3,"disabled","click",4,"ngIf"],["mat-raised-button","",3,"disabled","click"]],template:function(o,a){1&o&&(t.TgZ(0,"div",0),t.TgZ(1,"form",1),t.TgZ(2,"mat-form-field"),t._UZ(3,"input",2),t.qZA(),t.TgZ(4,"mat-form-field"),t._UZ(5,"input",3),t.qZA(),t.TgZ(6,"mat-form-field"),t._UZ(7,"input",4),t.qZA(),t.qZA(),t.YNc(8,v,2,1,"button",5),t.YNc(9,M,2,1,"button",5),t.qZA()),2&o&&(t.xp6(1),t.Q6J("formGroup",a.addStorageForm),t.xp6(7),t.Q6J("ngIf","add"===a.data.method),t.xp6(1),t.Q6J("ngIf","edit"===a.data.method))},directives:[i._Y,i.JL,i.sg,h.KE,i.Fj,_.Nt,i.JJ,i.u,i.Q7,i.wV,s.O5,m.lW],styles:[".modal-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding:20px}"]}),e})();var d=r(2789),S=r(6627);function A(e,n){1&e&&(t.TgZ(0,"th",14),t._uU(1," ID"),t.qZA())}function b(e,n){if(1&e&&(t.TgZ(0,"td",15),t._uU(1),t.qZA()),2&e){const o=n.$implicit;t.xp6(1),t.hij(" ",o.id," ")}}function I(e,n){1&e&&(t.TgZ(0,"th",14),t._uU(1,"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"),t.qZA())}function y(e,n){if(1&e&&(t.TgZ(0,"td",15),t._uU(1),t.qZA()),2&e){const o=n.$implicit;t.xp6(1),t.hij(" ",o.name," ")}}function w(e,n){1&e&&(t.TgZ(0,"th",14),t._uU(1," \u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e"),t.qZA())}function D(e,n){if(1&e&&(t.TgZ(0,"td",15),t._uU(1),t.qZA()),2&e){const o=n.$implicit;t.xp6(1),t.hij(" ",o.count," ")}}function N(e,n){1&e&&(t.TgZ(0,"th",14),t._uU(1," \u041f\u043e\u0441\u0442\u0430\u0432\u0449\u0438\u043a"),t.qZA())}function O(e,n){if(1&e&&(t.TgZ(0,"td",15),t._uU(1),t.qZA()),2&e){const o=n.$implicit;t.xp6(1),t.hij(" ",o.provider," ")}}function Y(e,n){1&e&&t._UZ(0,"th",14)}function F(e,n){if(1&e){const o=t.EpF();t.TgZ(0,"td",15),t.TgZ(1,"mat-icon",13),t.NdJ("click",function(){const l=t.CHM(o).$implicit;return t.oxw().openDialog("edit",l)}),t._uU(2,"edit"),t.qZA(),t.TgZ(3,"mat-icon",13),t.NdJ("click",function(){const l=t.CHM(o).$implicit;return t.oxw().deleteStorageItem(l.id)}),t._uU(4,"delete"),t.qZA(),t.qZA()}}function P(e,n){1&e&&t._UZ(0,"tr",16)}function U(e,n){1&e&&t._UZ(0,"tr",17)}const J=[{path:"",component:(()=>{class e{constructor(o,a){this.dashboardService=o,this.dialog=a,this.displayedColumns=["id","name","count","provider","actions"],this.dataSource=[]}ngOnInit(){this.getAndSetStorageItems()}getAndSetStorageItems(){this.dashboardService.getStorageItems().subscribe(o=>{this.dataSource=o})}deleteStorageItem(o){this.dashboardService.removeStorageItem(o).subscribe(a=>{this.dataSource=a})}openDialog(o,a){this.dialog.open(T,{data:{method:o,initialValue:a}}).afterClosed().subscribe(l=>{this.getAndSetStorageItems()})}}return e.\u0275fac=function(o){return new(o||e)(t.Y36(f),t.Y36(u.uw))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-storage"]],decls:23,vars:4,consts:[[1,"storage-page-wrapper"],[1,"storage-table-container","mat-elevation-z8"],["mat-table","",3,"dataSource"],["matColumnDef","id"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","name"],["matColumnDef","count"],["matColumnDef","provider"],["matColumnDef","actions"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-fab","","color","primary","aria-label","Example icon button with a home icon",1,"add-button"],[3,"click"],["mat-header-cell",""],["mat-cell",""],["mat-header-row",""],["mat-row",""]],template:function(o,a){1&o&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"table",2),t.ynx(3,3),t.YNc(4,A,2,0,"th",4),t.YNc(5,b,2,1,"td",5),t.BQk(),t.ynx(6,6),t.YNc(7,I,2,0,"th",4),t.YNc(8,y,2,1,"td",5),t.BQk(),t.ynx(9,7),t.YNc(10,w,2,0,"th",4),t.YNc(11,D,2,1,"td",5),t.BQk(),t.ynx(12,8),t.YNc(13,N,2,0,"th",4),t.YNc(14,O,2,1,"td",5),t.BQk(),t.ynx(15,9),t.YNc(16,Y,1,0,"th",4),t.YNc(17,F,5,0,"td",5),t.BQk(),t.YNc(18,P,1,0,"tr",10),t.YNc(19,U,1,0,"tr",11),t.qZA(),t.qZA(),t.TgZ(20,"button",12),t.TgZ(21,"mat-icon",13),t.NdJ("click",function(){return a.openDialog("add")}),t._uU(22,"add"),t.qZA(),t.qZA(),t.qZA()),2&o&&(t.xp6(2),t.Q6J("dataSource",a.dataSource),t.xp6(16),t.Q6J("matHeaderRowDef",a.displayedColumns)("matHeaderRowDefSticky",!0),t.xp6(1),t.Q6J("matRowDefColumns",a.displayedColumns))},directives:[d.BZ,d.w1,d.fO,d.Dz,d.as,d.nj,m.lW,S.Hw,d.ge,d.ev,d.XQ,d.Gk],styles:[".storage-page-wrapper[_ngcontent-%COMP%]{padding:40px;position:relative}.storage-page-wrapper[_ngcontent-%COMP%]   .storage-table-container[_ngcontent-%COMP%]{height:400px;overflow:auto}.storage-page-wrapper[_ngcontent-%COMP%]   .storage-table-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%}.storage-page-wrapper[_ngcontent-%COMP%]   .storage-table-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .storage-page-wrapper[_ngcontent-%COMP%]   .storage-table-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{text-align:center}.storage-page-wrapper[_ngcontent-%COMP%]   .add-button[_ngcontent-%COMP%]{position:absolute;bottom:25px;right:30px}.storage-page-wrapper[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{cursor:pointer}"]}),e})()}];let k=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[s.ez,C.Bz.forChild(J)]]}),e})(),q=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[s.ez,h.lN,_.c,m.ot,i.u5,i.UX]]}),e})(),R=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[s.ez,k,d.p0,m.ot,S.Ps,q]]}),e})()}}]);